{"ast":null,"code":"\"use strict\";\n\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.outputSyncingFormatter = exports.outputPostFormatter = exports.inputPostFormatter = exports.outputBlockFormatter = exports.outputTransactionReceiptFormatter = exports.outputLogFormatter = exports.inputLogFormatter = exports.inputTopicFormatter = exports.outputTransactionFormatter = exports.inputSignFormatter = exports.inputTransactionFormatter = exports.inputCallFormatter = exports.txInputOptionsFormatter = exports.inputAddressFormatter = exports.inputDefaultBlockNumberFormatter = exports.inputBlockNumberFormatter = exports.outputBigIntegerFormatter = exports.outputProofFormatter = exports.inputStorageKeysFormatter = void 0;\nconst web3_errors_1 = require(\"web3-errors\");\nconst web3_eth_iban_1 = require(\"web3-eth-iban\");\nconst web3_types_1 = require(\"web3-types\");\nconst web3_utils_1 = require(\"web3-utils\");\nconst web3_validator_1 = require(\"web3-validator\");\n/* eslint-disable deprecation/deprecation */\n/**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given storage key array values to hex strings.\n */\nconst inputStorageKeysFormatter = keys => keys.map(num => (0, web3_utils_1.numberToHex)(num));\nexports.inputStorageKeysFormatter = inputStorageKeysFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given proof response from the node.\n */\nconst outputProofFormatter = proof => ({\n  address: (0, web3_utils_1.toChecksumAddress)(proof.address),\n  nonce: (0, web3_utils_1.hexToNumberString)(proof.nonce),\n  balance: (0, web3_utils_1.hexToNumberString)(proof.balance)\n});\nexports.outputProofFormatter = outputProofFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Should the format output to a big number\n */\nconst outputBigIntegerFormatter = number => (0, web3_utils_1.toNumber)(number);\nexports.outputBigIntegerFormatter = outputBigIntegerFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or the predefined block number 'latest', 'pending', 'earliest', 'genesis'\n */\nconst inputBlockNumberFormatter = blockNumber => {\n  if ((0, web3_validator_1.isNullish)(blockNumber)) {\n    return undefined;\n  }\n  if (typeof blockNumber === 'string' && (0, web3_validator_1.isBlockTag)(blockNumber)) {\n    return blockNumber;\n  }\n  if (blockNumber === 'genesis') {\n    return '0x0';\n  }\n  if (typeof blockNumber === 'string' && (0, web3_utils_1.isHexStrict)(blockNumber)) {\n    return blockNumber.toLowerCase();\n  }\n  return (0, web3_utils_1.numberToHex)(blockNumber);\n};\nexports.inputBlockNumberFormatter = inputBlockNumberFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or does return the defaultBlock property of the current module\n */\nconst inputDefaultBlockNumberFormatter = (blockNumber, defaultBlock) => {\n  if (!blockNumber) {\n    return (0, exports.inputBlockNumberFormatter)(defaultBlock);\n  }\n  return (0, exports.inputBlockNumberFormatter)(blockNumber);\n};\nexports.inputDefaultBlockNumberFormatter = inputDefaultBlockNumberFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param address\n */\nconst inputAddressFormatter = address => {\n  if (web3_eth_iban_1.Iban.isValid(address) && web3_eth_iban_1.Iban.isDirect(address)) {\n    const iban = new web3_eth_iban_1.Iban(address);\n    return iban.toAddress().toLowerCase();\n  }\n  if ((0, web3_utils_1.isAddress)(address)) {\n    return `0x${address.toLowerCase().replace('0x', '')}`;\n  }\n  throw new web3_errors_1.FormatterError(`Provided address ${address} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`);\n};\nexports.inputAddressFormatter = inputAddressFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst txInputOptionsFormatter = options => {\n  var _a;\n  const modifiedOptions = Object.assign({}, options);\n  if (options.to) {\n    // it might be contract creation\n    modifiedOptions.to = (0, exports.inputAddressFormatter)(options.to);\n  }\n  if (options.data && options.input) {\n    throw new web3_errors_1.FormatterError('You can\\'t have \"data\" and \"input\" as properties of transactions at the same time, please use either \"data\" or \"input\" instead.');\n  }\n  if (!options.input && options.data) {\n    modifiedOptions.input = options.data;\n    delete modifiedOptions.data;\n  }\n  if (options.input && !options.input.startsWith('0x')) {\n    modifiedOptions.input = `0x${options.input}`;\n  }\n  if (modifiedOptions.input && !(0, web3_utils_1.isHexStrict)(modifiedOptions.input)) {\n    throw new web3_errors_1.FormatterError('The input field must be HEX encoded data.');\n  }\n  // allow both\n  if (options.gas || options.gasLimit) {\n    modifiedOptions.gas = (0, web3_utils_1.toNumber)((_a = options.gas) !== null && _a !== void 0 ? _a : options.gasLimit);\n  }\n  if (options.maxPriorityFeePerGas || options.maxFeePerGas) {\n    delete modifiedOptions.gasPrice;\n  }\n  ['gasPrice', 'gas', 'value', 'maxPriorityFeePerGas', 'maxFeePerGas', 'nonce', 'chainId'].filter(key => !(0, web3_validator_1.isNullish)(modifiedOptions[key])).forEach(key => {\n    modifiedOptions[key] = (0, web3_utils_1.numberToHex)(modifiedOptions[key]);\n  });\n  return modifiedOptions;\n};\nexports.txInputOptionsFormatter = txInputOptionsFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst inputCallFormatter = (options, defaultAccount) => {\n  var _a;\n  const opts = (0, exports.txInputOptionsFormatter)(options);\n  const from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n  if (from) {\n    opts.from = (0, exports.inputAddressFormatter)(from);\n  }\n  return opts;\n};\nexports.inputCallFormatter = inputCallFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst inputTransactionFormatter = (options, defaultAccount) => {\n  var _a;\n  const opts = (0, exports.txInputOptionsFormatter)(options);\n  // check from, only if not number, or object\n  if (!(typeof opts.from === 'number') && !(!!opts.from && typeof opts.from === 'object')) {\n    opts.from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n    if (!options.from && !(typeof options.from === 'number')) {\n      throw new web3_errors_1.FormatterError('The send transactions \"from\" field must be defined!');\n    }\n    opts.from = (0, exports.inputAddressFormatter)(options.from);\n  }\n  return opts;\n};\nexports.inputTransactionFormatter = inputTransactionFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Hex encodes the data passed to eth_sign and personal_sign\n */\nconst inputSignFormatter = data => (0, web3_utils_1.isHexStrict)(data) ? data : (0, web3_utils_1.utf8ToHex)(data);\nexports.inputSignFormatter = inputSignFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction to its proper values\n * @function outputTransactionFormatter\n */\nconst outputTransactionFormatter = tx => {\n  const modifiedTx = Object.assign({}, tx);\n  if (tx.blockNumber) {\n    modifiedTx.blockNumber = (0, web3_utils_1.hexToNumber)(tx.blockNumber);\n  }\n  if (tx.transactionIndex) {\n    modifiedTx.transactionIndex = (0, web3_utils_1.hexToNumber)(tx.transactionIndex);\n  }\n  modifiedTx.nonce = (0, web3_utils_1.hexToNumber)(tx.nonce);\n  modifiedTx.gas = (0, web3_utils_1.hexToNumber)(tx.gas);\n  if (tx.gasPrice) {\n    modifiedTx.gasPrice = (0, exports.outputBigIntegerFormatter)(tx.gasPrice);\n  }\n  if (tx.maxFeePerGas) {\n    modifiedTx.maxFeePerGas = (0, exports.outputBigIntegerFormatter)(tx.maxFeePerGas);\n  }\n  if (tx.maxPriorityFeePerGas) {\n    modifiedTx.maxPriorityFeePerGas = (0, exports.outputBigIntegerFormatter)(tx.maxPriorityFeePerGas);\n  }\n  if (tx.type) {\n    modifiedTx.type = (0, web3_utils_1.hexToNumber)(tx.type);\n  }\n  modifiedTx.value = (0, exports.outputBigIntegerFormatter)(tx.value);\n  if (tx.to && (0, web3_utils_1.isAddress)(tx.to)) {\n    // tx.to could be `0x0` or `null` while contract creation\n    modifiedTx.to = (0, web3_utils_1.toChecksumAddress)(tx.to);\n  } else {\n    modifiedTx.to = undefined; // set to `null` if invalid address\n  }\n  if (tx.from) {\n    modifiedTx.from = (0, web3_utils_1.toChecksumAddress)(tx.from);\n  }\n  return modifiedTx;\n};\nexports.outputTransactionFormatter = outputTransactionFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param topic\n */\n// To align with specification we use the type \"null\" here\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst inputTopicFormatter = topic => {\n  // Using \"null\" value intentionally for validation\n  // eslint-disable-next-line no-null/no-null\n  if ((0, web3_validator_1.isNullish)(topic)) return null;\n  const value = String(topic);\n  return (0, web3_validator_1.isHex)(value) ? value : (0, web3_utils_1.fromUtf8)(value);\n};\nexports.inputTopicFormatter = inputTopicFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param filter\n */\nconst inputLogFormatter = filter => {\n  var _a;\n  const val = (0, web3_validator_1.isNullish)(filter) ? {} : (0, web3_utils_1.mergeDeep)({}, filter);\n  // If options !== undefined, don't blow out existing data\n  if ((0, web3_validator_1.isNullish)(val.fromBlock)) {\n    val.fromBlock = web3_types_1.BlockTags.LATEST;\n  }\n  val.fromBlock = (0, exports.inputBlockNumberFormatter)(val.fromBlock);\n  if (!(0, web3_validator_1.isNullish)(val.toBlock)) {\n    val.toBlock = (0, exports.inputBlockNumberFormatter)(val.toBlock);\n  }\n  // make sure topics, get converted to hex\n  val.topics = (_a = val.topics) !== null && _a !== void 0 ? _a : [];\n  val.topics = val.topics.map(topic => Array.isArray(topic) ? topic.map(exports.inputTopicFormatter) : (0, exports.inputTopicFormatter)(topic));\n  if (val.address) {\n    val.address = Array.isArray(val.address) ? val.address.map(addr => (0, exports.inputAddressFormatter)(addr)) : (0, exports.inputAddressFormatter)(val.address);\n  }\n  return val;\n};\nexports.inputLogFormatter = inputLogFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a log\n * @function outputLogFormatter\n */\nconst outputLogFormatter = log => {\n  const modifiedLog = Object.assign({}, log);\n  const logIndex = typeof log.logIndex === 'string' ? log.logIndex : (0, web3_utils_1.numberToHex)(log.logIndex);\n  // generate a custom log id\n  if (typeof log.blockHash === 'string' && typeof log.transactionHash === 'string') {\n    const shaId = (0, web3_utils_1.sha3Raw)(`${log.blockHash.replace('0x', '')}${log.transactionHash.replace('0x', '')}${logIndex.replace('0x', '')}`);\n    modifiedLog.id = `log_${shaId.replace('0x', '').slice(0, 8)}`;\n  } else if (!log.id) {\n    modifiedLog.id = undefined;\n  }\n  if (log.blockNumber && (0, web3_utils_1.isHexStrict)(log.blockNumber)) {\n    modifiedLog.blockNumber = (0, web3_utils_1.hexToNumber)(log.blockNumber);\n  }\n  if (log.transactionIndex && (0, web3_utils_1.isHexStrict)(log.transactionIndex)) {\n    modifiedLog.transactionIndex = (0, web3_utils_1.hexToNumber)(log.transactionIndex);\n  }\n  if (log.logIndex && (0, web3_utils_1.isHexStrict)(log.logIndex)) {\n    modifiedLog.logIndex = (0, web3_utils_1.hexToNumber)(log.logIndex);\n  }\n  if (log.address) {\n    modifiedLog.address = (0, web3_utils_1.toChecksumAddress)(log.address);\n  }\n  return modifiedLog;\n};\nexports.outputLogFormatter = outputLogFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction receipt to its proper values\n */\nconst outputTransactionReceiptFormatter = receipt => {\n  if (typeof receipt !== 'object') {\n    throw new web3_errors_1.FormatterError(`Received receipt is invalid: ${String(receipt)}`);\n  }\n  const modifiedReceipt = Object.assign({}, receipt);\n  if (receipt.blockNumber) {\n    modifiedReceipt.blockNumber = (0, web3_utils_1.hexToNumber)(receipt.blockNumber);\n  }\n  if (receipt.transactionIndex) {\n    modifiedReceipt.transactionIndex = (0, web3_utils_1.hexToNumber)(receipt.transactionIndex);\n  }\n  modifiedReceipt.cumulativeGasUsed = (0, web3_utils_1.hexToNumber)(receipt.cumulativeGasUsed);\n  modifiedReceipt.gasUsed = (0, web3_utils_1.hexToNumber)(receipt.gasUsed);\n  if (receipt.logs && Array.isArray(receipt.logs)) {\n    modifiedReceipt.logs = receipt.logs.map(exports.outputLogFormatter);\n  }\n  if (receipt.effectiveGasPrice) {\n    modifiedReceipt.effectiveGasPrice = (0, web3_utils_1.hexToNumber)(receipt.effectiveGasPrice);\n  }\n  if (receipt.contractAddress) {\n    modifiedReceipt.contractAddress = (0, web3_utils_1.toChecksumAddress)(receipt.contractAddress);\n  }\n  if (receipt.status) {\n    modifiedReceipt.status = Boolean(parseInt(receipt.status, 10));\n  }\n  return modifiedReceipt;\n};\nexports.outputTransactionReceiptFormatter = outputTransactionReceiptFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a block to its proper values\n * @function outputBlockFormatter\n */\nconst outputBlockFormatter = block => {\n  const modifiedBlock = Object.assign({}, block);\n  // transform to number\n  modifiedBlock.gasLimit = (0, web3_utils_1.hexToNumber)(block.gasLimit);\n  modifiedBlock.gasUsed = (0, web3_utils_1.hexToNumber)(block.gasUsed);\n  modifiedBlock.size = (0, web3_utils_1.hexToNumber)(block.size);\n  modifiedBlock.timestamp = (0, web3_utils_1.hexToNumber)(block.timestamp);\n  if (block.number) {\n    modifiedBlock.number = (0, web3_utils_1.hexToNumber)(block.number);\n  }\n  if (block.difficulty) {\n    modifiedBlock.difficulty = (0, exports.outputBigIntegerFormatter)(block.difficulty);\n  }\n  if (block.totalDifficulty) {\n    modifiedBlock.totalDifficulty = (0, exports.outputBigIntegerFormatter)(block.totalDifficulty);\n  }\n  if (block.transactions && Array.isArray(block.transactions)) {\n    modifiedBlock.transactions = block.transactions.map(exports.outputTransactionFormatter);\n  }\n  if (block.miner) {\n    modifiedBlock.miner = (0, web3_utils_1.toChecksumAddress)(block.miner);\n  }\n  if (block.baseFeePerGas) {\n    modifiedBlock.baseFeePerGas = (0, exports.outputBigIntegerFormatter)(block.baseFeePerGas);\n  }\n  return modifiedBlock;\n};\nexports.outputBlockFormatter = outputBlockFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a whisper post and converts all values to HEX\n */\nconst inputPostFormatter = post => {\n  var _a;\n  const modifiedPost = Object.assign({}, post);\n  if (post.ttl) {\n    modifiedPost.ttl = (0, web3_utils_1.numberToHex)(post.ttl);\n  }\n  if (post.workToProve) {\n    modifiedPost.workToProve = (0, web3_utils_1.numberToHex)(post.workToProve);\n  }\n  if (post.priority) {\n    modifiedPost.priority = (0, web3_utils_1.numberToHex)(post.priority);\n  }\n  // fallback\n  if (post.topics && !Array.isArray(post.topics)) {\n    modifiedPost.topics = post.topics ? [post.topics] : [];\n  }\n  // format the following options\n  modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map(topic => topic.startsWith('0x') ? topic : (0, web3_utils_1.fromUtf8)(topic));\n  return modifiedPost;\n};\nexports.inputPostFormatter = inputPostFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a received post message\n * @function outputPostFormatter\n */\nconst outputPostFormatter = post => {\n  var _a;\n  const modifiedPost = Object.assign({}, post);\n  if (post.expiry) {\n    modifiedPost.expiry = (0, web3_utils_1.hexToNumber)(post.expiry);\n  }\n  if (post.sent) {\n    modifiedPost.sent = (0, web3_utils_1.hexToNumber)(post.sent);\n  }\n  if (post.ttl) {\n    modifiedPost.ttl = (0, web3_utils_1.hexToNumber)(post.ttl);\n  }\n  if (post.workProved) {\n    modifiedPost.workProved = (0, web3_utils_1.hexToNumber)(post.workProved);\n  }\n  // post.payloadRaw = post.payload;\n  // post.payload = utils.hexToAscii(post.payload);\n  // if (utils.isJson(post.payload)) {\n  //     post.payload = JSON.parse(post.payload);\n  // }\n  // format the following options\n  if (!post.topics) {\n    modifiedPost.topics = [];\n  }\n  modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map(web3_utils_1.toUtf8);\n  return modifiedPost;\n};\nexports.outputPostFormatter = outputPostFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n */\nconst outputSyncingFormatter = result => {\n  const modifiedResult = Object.assign({}, result);\n  modifiedResult.startingBlock = (0, web3_utils_1.hexToNumber)(result.startingBlock);\n  modifiedResult.currentBlock = (0, web3_utils_1.hexToNumber)(result.currentBlock);\n  modifiedResult.highestBlock = (0, web3_utils_1.hexToNumber)(result.highestBlock);\n  if (result.knownStates) {\n    modifiedResult.knownStates = (0, web3_utils_1.hexToNumber)(result.knownStates);\n  }\n  if (result.pulledStates) {\n    modifiedResult.pulledStates = (0, web3_utils_1.hexToNumber)(result.pulledStates);\n  }\n  return modifiedResult;\n};\nexports.outputSyncingFormatter = outputSyncingFormatter;","map":{"version":3,"names":["web3_errors_1","require","web3_eth_iban_1","web3_types_1","web3_utils_1","web3_validator_1","inputStorageKeysFormatter","keys","map","num","numberToHex","exports","outputProofFormatter","proof","address","toChecksumAddress","nonce","hexToNumberString","balance","outputBigIntegerFormatter","number","toNumber","inputBlockNumberFormatter","blockNumber","isNullish","undefined","isBlockTag","isHexStrict","toLowerCase","inputDefaultBlockNumberFormatter","defaultBlock","inputAddressFormatter","Iban","isValid","isDirect","iban","toAddress","isAddress","replace","FormatterError","txInputOptionsFormatter","options","modifiedOptions","Object","assign","to","data","input","startsWith","gas","gasLimit","_a","maxPriorityFeePerGas","maxFeePerGas","gasPrice","filter","key","forEach","inputCallFormatter","defaultAccount","opts","from","inputTransactionFormatter","inputSignFormatter","utf8ToHex","outputTransactionFormatter","tx","modifiedTx","hexToNumber","transactionIndex","type","value","inputTopicFormatter","topic","String","isHex","fromUtf8","inputLogFormatter","val","mergeDeep","fromBlock","BlockTags","LATEST","toBlock","topics","Array","isArray","addr","outputLogFormatter","log","modifiedLog","logIndex","blockHash","transactionHash","shaId","sha3Raw","id","slice","outputTransactionReceiptFormatter","receipt","modifiedReceipt","cumulativeGasUsed","gasUsed","logs","effectiveGasPrice","contractAddress","status","Boolean","parseInt","outputBlockFormatter","block","modifiedBlock","size","timestamp","difficulty","totalDifficulty","transactions","miner","baseFeePerGas","inputPostFormatter","post","modifiedPost","ttl","workToProve","priority","outputPostFormatter","expiry","sent","workProved","toUtf8","outputSyncingFormatter","result","modifiedResult","startingBlock","currentBlock","highestBlock","knownStates","pulledStates"],"sources":["../../src/formatters.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}