{"ast":null,"code":"import { ref } from \"vue\";\nimport { generateMnemonic, mnemonicToSeed } from 'bip39';\nimport { hdkey } from 'ethereumjs-wallet';\nimport Web3 from \"web3\";\n\n//创建助记词\n// const mnemonic = generateMnemonic();\n// console.log(\"mnemonic--->\",mnemonic)\n\nexport default {\n  __name: 'AccountSys',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const gm = ref('slab soon raise explain piano number sleep style story mushroom foil bunker');\n    //const seed = \n\n    mnemonicToSeed(gm.value).then(seed => {\n      console.log('seed---->', seed);\n      const hdWallet = hdkey.fromMasterSeed(seed);\n      const keypair = hdWallet.derivePath(\"m/44'/60'/0'/0/0\");\n      console.log('keypair--->', keypair);\n\n      //获取私钥\n      //1.获取钱包对象\n      const wallet = keypair.getWallet();\n      console.log(\"wallet---->\", wallet);\n\n      //2.获取钱包地址\n      const lowerCaseAddress = wallet.getAddressString();\n      console.log(\"lowerCaseAddress--->\", lowerCaseAddress);\n\n      //3.获取钱包的校验地址\n      const checkAddress = wallet.getChecksumAddressString();\n\n      //4.获取私钥\n      const pkey = wallet.getPrivateKey().toString('hex');\n      console.log(\"pkey----<>\", pkey);\n\n      //导出keystore\n\n      //1.web3js\n\n      //var web3 = new Web3(Web3.givenProvider || 'wss://goerli.infura.io/ws/v3/dc92288a859d445890ede39d9dba5861');\n      //const keystore =  web3.eth.accounts.encrypt(pkey,'111');\n      //console.log(\"keystore----->\",keystore)\n\n      const keystore2 = wallet.toV3(\"111\");\n      console.log(\"keystore2----->\", keystore2);\n    });\n    const __returned__ = {\n      gm,\n      ref,\n      get generateMnemonic() {\n        return generateMnemonic;\n      },\n      get mnemonicToSeed() {\n        return mnemonicToSeed;\n      },\n      get hdkey() {\n        return hdkey;\n      },\n      get Web3() {\n        return Web3;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","generateMnemonic","mnemonicToSeed","hdkey","Web3","gm","value","then","seed","console","log","hdWallet","fromMasterSeed","keypair","derivePath","wallet","getWallet","lowerCaseAddress","getAddressString","checkAddress","getChecksumAddressString","pkey","getPrivateKey","toString","keystore2","toV3"],"sources":["D:/a/wallet-demo/web3-wallet/src/components/AccountSys.vue"],"sourcesContent":["\r\n\r\n<script setup>\r\nimport {ref} from \"vue\";\r\nimport {generateMnemonic,mnemonicToSeed} from 'bip39'\r\nimport { hdkey } from 'ethereumjs-wallet'\r\n\r\nimport Web3 from \"web3\";\r\n \r\n //创建助记词\r\n// const mnemonic = generateMnemonic();\r\n// console.log(\"mnemonic--->\",mnemonic)\r\n\r\nconst gm = ref('slab soon raise explain piano number sleep style story mushroom foil bunker')\r\n//const seed = \r\n\r\n  mnemonicToSeed(gm.value).then((seed)=>{\r\n    console.log('seed---->',seed)\r\n    const hdWallet = hdkey.fromMasterSeed(seed)\r\n\r\n    const keypair =hdWallet.derivePath(\"m/44'/60'/0'/0/0\"); \r\n    console.log('keypair--->',keypair)\r\n\r\n    //获取私钥\r\n    //1.获取钱包对象\r\n    const wallet = keypair.getWallet();\r\n    console.log(\"wallet---->\",wallet)\r\n\r\n    //2.获取钱包地址\r\n    const lowerCaseAddress = wallet.getAddressString();\r\n    console.log(\"lowerCaseAddress--->\",lowerCaseAddress )\r\n   \r\n   //3.获取钱包的校验地址\r\n    const checkAddress = wallet.getChecksumAddressString();\r\n   \r\n    //4.获取私钥\r\n    const pkey =  wallet.getPrivateKey().toString('hex');\r\n    console.log(\"pkey----<>\", pkey)\r\n\r\n    //导出keystore\r\n\r\n    //1.web3js\r\n\r\n    //var web3 = new Web3(Web3.givenProvider || 'wss://goerli.infura.io/ws/v3/dc92288a859d445890ede39d9dba5861');\r\n    //const keystore =  web3.eth.accounts.encrypt(pkey,'111');\r\n    //console.log(\"keystore----->\",keystore)\r\n\r\n    const keystore2 =  wallet.toV3(\"111\")\r\n    console.log(\"keystore2----->\",keystore2)\r\n\r\n})\r\n\r\n \r\n</script>\r\n\r\n<template>\r\n  <h1>助记词</h1>\r\n  <p>{{gm}}</p>\r\n  \r\n  <p>账号地址:0x4f98c8f01c3e70f9dac82fe86d70bdc5389efa8d</p>\r\n   <p>账号私钥:6ecbaa87da47eb92255bc0bb5ce1d1340b7cf91390ba0475b2c5bd82e52d94ec</p>\r\n</template>\r\n<style>\r\n\r\n</style>"],"mappings":"AAGA,SAAQA,GAAG,QAAO,KAAK;AACvB,SAAQC,gBAAgB,EAACC,cAAc,QAAO,OAAO;AACrD,SAASC,KAAK,QAAQ,mBAAmB;AAEzC,OAAOC,IAAI,MAAM,MAAM;;AAEtB;AACD;AACA;;;;;;;;IAEA,MAAMC,EAAE,GAAGL,GAAG,CAAC,6EAA6E,CAAC;IAC7F;;IAEEE,cAAc,CAACG,EAAE,CAACC,KAAK,CAAC,CAACC,IAAI,CAAEC,IAAI,IAAG;MACpCC,OAAO,CAACC,GAAG,CAAC,WAAW,EAACF,IAAI,CAAC;MAC7B,MAAMG,QAAQ,GAAGR,KAAK,CAACS,cAAc,CAACJ,IAAI,CAAC;MAE3C,MAAMK,OAAO,GAAEF,QAAQ,CAACG,UAAU,CAAC,kBAAkB,CAAC;MACtDL,OAAO,CAACC,GAAG,CAAC,aAAa,EAACG,OAAO,CAAC;;MAElC;MACA;MACA,MAAME,MAAM,GAAGF,OAAO,CAACG,SAAS,CAAC,CAAC;MAClCP,OAAO,CAACC,GAAG,CAAC,aAAa,EAACK,MAAM,CAAC;;MAEjC;MACA,MAAME,gBAAgB,GAAGF,MAAM,CAACG,gBAAgB,CAAC,CAAC;MAClDT,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAACO,gBAAiB,CAAC;;MAEtD;MACC,MAAME,YAAY,GAAGJ,MAAM,CAACK,wBAAwB,CAAC,CAAC;;MAEtD;MACA,MAAMC,IAAI,GAAIN,MAAM,CAACO,aAAa,CAAC,CAAC,CAACC,QAAQ,CAAC,KAAK,CAAC;MACpDd,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEW,IAAI,CAAC;;MAE/B;;MAEA;;MAEA;MACA;MACA;;MAEA,MAAMG,SAAS,GAAIT,MAAM,CAACU,IAAI,CAAC,KAAK,CAAC;MACrChB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAACc,SAAS,CAAC;IAE5C,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}